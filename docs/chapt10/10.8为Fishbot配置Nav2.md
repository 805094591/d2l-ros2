# 10.8 为FishBot配置Nav2

安装好了Nav2，我们开始针对我们的fishbot改变一些参数进行导航相关的参数配置。

Nav2可配置的参数比起Cartographer更多，但是不要害怕，因为大多数参数我们可能不会改变。

有关Nav2的更多参数介绍和详细的配置意义，可以参考**Nav2中文网配置指南**一节。

## 1.创建fishbot_navigation2

### 1.1创建功能包

和前面在Cartographer中一样，我们需要创建一个文件夹放置配置文件、launch文件、rviz配置和地图等。

进入到src目录下，使用下面指令创建功能包：

```shell
ros2 pkg create fishbot_navigation2 --dependencies nav2_bringup
```

这里我们添加了一个依赖`nav2_bringup`，后面写launch文件要用到，这里提前添加一下依赖。

创建完成后的目录结构：

```
.
├── CMakeLists.txt
├── include
│   └── fishbot_navigation2
├── package.xml
└── src

3 directories, 2 files
```

### 1.2添加launch、config、map、param、rviz文件夹

```
cd src/fishbot_navigation2
mkdir launch config maps param rviz
```

### 1.3复制地图文件

将上一节的地图文件复制到map文件夹下。

复制完成后`fishbot_navigation2`的文件结构如下

```
.
├── CMakeLists.txt
├── config
├── launch
├── maps
│   ├── fishbot_map.png
│   ├── fishbot_map.pgm
│   ├── fishbot_map.yaml
├── package.xml
├── param
└── rviz

5 directories, 5 files
```

## 2.添加配置文件

我们需要配置的文件是Nav2的参数文件，同样的，贴心的Nav2已经为我们准备好了参数模板:`src/navigation2/nav2_bringup/bringup/params/nav2_params.yaml`

在`src/fishbot_navigation2/param/`目录下创建`fishbot_nav2.yaml`，然后将`src/navigation2/nav2_bringup/bringup/params/nav2_params.yaml`的内容复制粘贴到`fishbot_nav2.yaml`文件中。

> 在[5.1.4章节保存参数](chapt5/5.1ROS2参数介绍?id=_4体验参数)中，我们曾用`ros2 param dump <node_name>`指令将某个节点的参数保存为一个`.yaml`格式的文件。`fishbot_nav2.yaml`文件就是保存Nav2相关节点参数的文件。





--------------

技术交流&&问题求助：

- **微信公众号及交流群：鱼香ROS**
- **小鱼微信：AiIotRobot**
- **QQ交流群：139707339**

- 版权保护：已加入“维权骑士”（rightknights.com）的版权保护计划
